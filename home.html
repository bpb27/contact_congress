<div ng-controller="mainCtrl">
	<div id="topline-links" class="col-md-12">
		<div id="links">
			<span class="sh">
				<a href="/about">Help us keep this accurate</a>
				<span class="spacer"> | </span>
			</span>
			<a href="/about">About</a>
		</div>
		<div id="facebook-share">
			<button ng-click="generateLink()">Link to this search</button>
			<iframe src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.contactingcongress.org&width=106&layout=button_count&action=like&size=small&show_faces=true&share=true&height=46&appId=1748104988834383" width="106" height="46" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true"></iframe>
		</div>
	</div>
	<div id="total" class="col-md-12">{{matches.length}} members <span class="sh">of Congress</span></div>
	<div id="searchbars" class="col-md-12 col-xs-6">
		<div class="col-md-4 input-group-lg"><input type="text" class="form-control" placeholder="zip code" ng-model="queryZip" /></div>
		<div class="col-md-4 input-group-lg"><input type="text" class="form-control" placeholder="state" ng-model="queryState" /></div>
		<div class="col-md-4 input-group-lg"><input type="text" class="form-control" placeholder="name" ng-model="queryName" /></div>
	</div>
	<div class="col-md-12 col-xs-6 select-boxes">
		<select ng-model="chambers.model">
			<option ng-repeat="option in chambers.availableOptions" value="{{option.id}}">{{option.name}}</option>
		</select>
		<select ng-model="parties.model">
			<option ng-repeat="option in parties.availableOptions" value="{{option.id}}">{{option.name}}</option>
		</select>
		<select ng-model="houseCommittees.model">
			<option ng-repeat="option in houseCommittees.availableOptions" value="{{option.id}}">{{option.name}}</option>
		</select>
		<select ng-model="senateCommittees.model">
			<option ng-repeat="option in senateCommittees.availableOptions" value="{{option.id}}">{{option.name}}</option>
		</select>
		<select ng-model="sorting.model">
			<option ng-repeat="option in sorting.availableOptions" value="{{option.id}}">{{option.name}}</option>
		</select>
		<button class="btn" ng-click="toggleShowOffices()">
			<span ng-if="showOffices">Hide offices</span>
			<span ng-if="!showOffices">Show offices</span>
		</button>
	</div>
	<ol when-scrolled="more()">
		<li class="row" ng-repeat="member in displayed">
			<div class="col-md-1 col-xs-3">
				<img ng-src="./images/{{member.photoFilename}}" />
			</div>
			<div class="col-md-3 col-xs-9">
				<span class="member-name" ng-if="member.district"><b>Rep. {{member.name}}</b></span>
				<span class="member-name" ng-if="!member.district"><b>Sen. {{member.name}}</b></span><br>
				<span>DC: {{member.contact[0].phone}}</span><br>
				<span><a ng-if="member.linkMeeting" ng-href="{{member.linkMeeting}}" target="_blank">Request a meeting</a></span><br ng-if="member.linkMeeting">
				<span><a ng-if="member.linkTownhall" ng-href="{{member.linkTownhall}}" target="_blank">Townhalls</a></span><br ng-if="member.linkTownhall">
				<span><a ng-if="member.linkTeletownhall" ng-href="{{member.linkTeletownhall}}" target="_blank">Tele-Townhalls</a></span><br ng-if="member.linkTeletownhall">
				<span><a ng-href="{{member.linkContact}}" target="_blank">Email office</a></span>
			</div>
			<div class="col-md-3 col-xs-12">
				<span><b>State: </b>{{member.stateDisplay}}</span><br>
				<span><b>Party: </b>{{member.party}}</span><br>
				<span ng-if="member.district"><b>District: </b>{{member.district}}</span><br ng-if="member.district">
				<span ng-if="!member.note"><b>First elected:</b> {{member.elected}}</span><br ng-if="!member.note">
				<span ng-if="member.note"><b>Note:</b> {{member.note}}</span><br ng-if="member.note">
				<span><b>Reelection:</b> {{member.reelection}}</span><br>
				<span><b>Last election:</b> {{member.threshold}}% of vote<span>
			</div>
			<div class="col-md-5 col-xs-12 social-links">
				<span ng-if="member.socialTwitter" class="fa-stack fa-lg twitter-btn">
					<a ng-href="{{member.socialTwitter}}" target="_blank">
						<i class="fa fa-circle fa-stack-2x"></i>
	  				<i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
					</a>
				</span>
				<span ng-if="member.socialFacebook" class="fa-stack fa-lg facebook-btn">
					<a ng-href="{{member.socialFacebook}}" target="_blank">
						<i class="fa fa-circle fa-stack-2x"></i>
  					<i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
					</a>
				</span>
				<span ng-if="member.socialInstagram" class="fa-stack fa-lg instagram-btn">
					<a ng-href="{{member.socialInstagram}}" target="_blank">
						<i class="fa fa-circle fa-stack-2x"></i>
	  				<i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
					</a>
				</span>
				<span ng-if="member.socialYoutube" class="fa-stack fa-lg youtube-btn">
					<a ng-href="{{member.socialYoutube}}" target="_blank">
						<i class="fa fa-circle fa-stack-2x"></i>
  					<i class="fa fa-youtube fa-stack-1x fa-inverse"></i>
					</a>
				</span>
				<span ng-if="member.linkWikipedia" class="fa-stack fa-lg wikipedia-btn">
					<a ng-href="{{member.linkWikipedia}}" target="_blank">
						<i class="fa fa-circle fa-stack-2x"></i>
  					<i class="fa fa-wikipedia-w fa-stack-1x fa-inverse" style="color:black"></i>
					</a>
				</span>
			</div>
			<div class="col-md-12 col-xs-12 full-contact">
				<div class="row" ng-repeat="contact in member.contact" ng-class-odd="'odd-contact'" ng-show="showOffices">
					<div class="col-md-2 col-xs-12"><b>{{contact.name}}</b></div>
					<div class="col-md-2 col-xs-12">{{contact.phone}}</div>
					<div class="col-md-6 col-xs-12">{{contact.address}}</div>
					<div class="col-md-2 col-xs-12"><span ng-if="contact.fax">Fax: {{contact.fax}}</span></div>
				</div>
			</div>
		</li>
	</ol>
</div>
